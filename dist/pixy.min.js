define("rsvp/all",["./promise","exports"],function(t,e){var n=t["default"];e["default"]=function(t,e){return n.all(t,e)}}),define("rsvp/all_settled",["./promise","./utils","exports"],function(t,e,n){function r(t){return{state:"fulfilled",value:t}}function i(t){return{state:"rejected",reason:t}}var s=t["default"],o=e.isArray,a=e.isNonThenable;n["default"]=function(t,e){return new s(function(e){function n(t){return function(e){c(t,r(e))}}function u(t){return function(e){c(t,i(e))}}function c(t,n){f[t]=n,0===--h&&e(f)}if(!o(t))throw new TypeError("You must pass an array to allSettled.");var l,h=t.length;if(0===h)return void e([]);for(var f=new Array(h),d=0;d<t.length;d++)l=t[d],a(l)?c(d,r(l)):s.resolve(l).then(n(d),u(d))},e)}}),define("rsvp/asap",["exports"],function(t){function e(){return function(){process.nextTick(i)}}function n(){var t=0,e=new a(i),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function r(){return function(){setTimeout(i,1)}}function i(){for(var t=0;t<u.length;t++){var e=u[t],n=e[0],r=e[1];n(r)}u=[]}t["default"]=function(t,e){var n=u.push([t,e]);1===n&&s()};var s,o="undefined"!=typeof window?window:{},a=o.MutationObserver||o.WebKitMutationObserver,u=[];s="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?e():a?n():r()}),define("rsvp/config",["./events","exports"],function(t,e){function n(t,e){return"onerror"===t?void i.on("error",e):2!==arguments.length?i[t]:void(i[t]=e)}var r=t["default"],i={instrument:!1};r.mixin(i),e.config=i,e.configure=n}),define("rsvp/defer",["./promise","exports"],function(t,e){var n=t["default"];e["default"]=function(t){var e={};return e.promise=new n(function(t,n){e.resolve=t,e.reject=n},t),e}}),define("rsvp/events",["exports"],function(t){var e=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},n=function(t){var e=t._promiseCallbacks;return e||(e=t._promiseCallbacks={}),e};t["default"]={mixin:function(t){return t.on=this.on,t.off=this.off,t.trigger=this.trigger,t._promiseCallbacks=void 0,t},on:function(t,r){var i,s=n(this);i=s[t],i||(i=s[t]=[]),-1===e(i,r)&&i.push(r)},off:function(t,r){var i,s,o=n(this);return r?(i=o[t],s=e(i,r),void(-1!==s&&i.splice(s,1))):void(o[t]=[])},trigger:function(t,e){var r,i,s=n(this);if(r=s[t])for(var o=0;o<r.length;o++)(i=r[o])(e)}}}),define("rsvp/filter",["./all","./map","./utils","exports"],function(t,e,n,r){function i(t,e,n){return s(t,n).then(function(r){if(!u(t))throw new TypeError("You must pass an array to filter.");if(!a(e))throw new TypeError("You must pass a function to filter's second argument.");return o(t,e,n).then(function(t){var e,n=r.length,i=[];for(e=0;n>e;e++)t[e]&&i.push(r[e]);return i})})}var s=t["default"],o=e["default"],a=n.isFunction,u=n.isArray;r["default"]=i}),define("rsvp/hash",["./promise","./utils","exports"],function(t,e,n){var r=t["default"],i=e.isNonThenable,s=e.keysOf;n["default"]=function(t){return new r(function(e,n){function o(t){return function(n){l[t]=n,0===--f&&e(l)}}function a(t){f=0,n(t)}var u,c,l={},h=s(t),f=h.length;if(0===f)return void e(l);for(var d=0;d<h.length;d++)c=h[d],u=t[c],i(u)?(l[c]=u,0===--f&&e(l)):r.resolve(u).then(o(c),a)})}}),define("rsvp/hash_settled",["./promise","./utils","exports"],function(t,e,n){function r(t){return{state:"fulfilled",value:t}}function i(t){return{state:"rejected",reason:t}}var s=t["default"],o=e.isNonThenable,a=e.keysOf;n["default"]=function(t){return new s(function(e){function n(t){return function(e){c(t,r(e))}}function u(t){return function(e){c(t,i(e))}}function c(t,n){f[t]=n,0===--p&&e(f)}var l,h,f={},d=a(t),p=d.length;if(0===p)return void e(f);for(var g=0;g<d.length;g++)h=d[g],l=t[h],o(l)?c(h,r(l)):s.resolve(l).then(n(h),u(h))})}}),define("rsvp/instrument",["./config","./utils","exports"],function(t,e,n){var r=t.config,i=e.now;n["default"]=function(t,e,n){try{r.trigger(t,{guid:e._guidKey+e._id,eventName:t,detail:e._detail,childGuid:n&&e._guidKey+n._id,label:e._label,timeStamp:i(),stack:new Error(e._label).stack})}catch(s){setTimeout(function(){throw s},0)}}}),define("rsvp/map",["./promise","./utils","exports"],function(t,e,n){var r=t["default"],i=e.isArray,s=e.isFunction;n["default"]=function(t,e,n){return r.all(t,n).then(function(o){if(!i(t))throw new TypeError("You must pass an array to map.");if(!s(e))throw new TypeError("You must pass a function to map's second argument.");var a,u=o.length,c=[];for(a=0;u>a;a++)c.push(e(o[a]));return r.all(c,n)})}}),define("rsvp/node",["./promise","./utils","exports"],function(t,e,n){var r=t["default"],i=e.isArray;n["default"]=function(t,e){return function(){for(var n=arguments.length,s=new Array(n),o=0;n>o;o++)s[o]=arguments[o];var a,u=e===!0,c=i(e);return u||c||!e?a=this:(console.warn('Deprecation: RSVP.denodeify() doesn\'t allow setting the "this" binding anymore. Use yourFunction.bind(yourThis) instead.'),a=e),r.all(s).then(function(n){function i(r,i){function s(){for(var t=arguments.length,n=new Array(t),s=0;t>s;s++)n[s]=arguments[s];var o=n[0],a=n[1];if(o)i(o);else if(u)r(n.slice(1));else if(c){var l,h,f={},d=n.slice(1);for(h=0;h<e.length;h++)l=e[h],f[l]=d[h];r(f)}else r(a)}n.push(s),t.apply(a,n)}return new r(i)})}}}),define("rsvp/promise",["./config","./events","./instrument","./utils","./promise/cast","./promise/all","./promise/race","./promise/resolve","./promise/reject","exports"],function(t,e,n,r,i,s,o,a,u,c){function l(){}function h(t,e){if(!S(t))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof h))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._id=L++,this._label=e,this._subscribers=[],w.instrument&&C("created",this),l!==t&&f(t,this)}function f(t,e){function n(t){m(e,t)}function r(t){x(e,t)}try{t(n,r)}catch(i){r(i)}}function d(t,e,n,r){var i=t._subscribers,s=i.length;i[s]=e,i[s+H]=n,i[s+q]=r}function p(t,e){var n,r,i=t._subscribers,s=t._detail;w.instrument&&C(e===H?"fulfilled":"rejected",t);for(var o=0;o<i.length;o+=3)n=i[o],r=i[o+e],g(e,n,r,s);t._subscribers=null}function g(t,e,n,r){var i,s,o,a,u=S(n);if(u)try{i=n(r),o=!0}catch(c){a=!0,s=c}else i=r,o=!0;v(e,i)||(u&&o?m(e,i):a?x(e,s):t===H?m(e,i):t===q&&x(e,i))}function v(t,e){var n,r=null;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(P(e)&&(r=e.then,S(r)))return r.call(e,function(r){return n?!0:(n=!0,void(e!==r?m(t,r):y(t,r)))},function(e){return n?!0:(n=!0,void x(t,e))},"Settle: "+(t._label||" unknown promise")),!0}catch(i){return n?!0:(x(t,i),!0)}return!1}function m(t,e){t===e?y(t,e):v(t,e)||y(t,e)}function y(t,e){t._state===M&&(t._state=R,t._detail=e,w.async(_,t))}function x(t,e){t._state===M&&(t._state=R,t._detail=e,w.async(b,t))}function _(t){p(t,t._state=H)}function b(t){t._onerror&&t._onerror(t._detail),p(t,t._state=q)}var w=t.config,C=(e["default"],n["default"]),P=r.objectOrFunction,S=r.isFunction,A=r.now,I=i["default"],E=s["default"],k=o["default"],T=a["default"],O=u["default"],j="rsvp_"+A()+"-",L=0;c["default"]=h,h.cast=I,h.all=E,h.race=k,h.resolve=T,h.reject=O;var M=void 0,R=0,H=1,q=2;h.prototype={constructor:h,_id:void 0,_guidKey:j,_label:void 0,_state:void 0,_detail:void 0,_subscribers:void 0,_onerror:function(t){w.trigger("error",t)},then:function(t,e,n){var r=this;this._onerror=null;var i=new this.constructor(l,n);if(this._state){var s=arguments;w.async(function(){g(r._state,i,s[r._state-1],r._detail)})}else d(this,i,t,e);return w.instrument&&C("chained",r,i),i},"catch":function(t,e){return this.then(null,t,e)},"finally":function(t,e){var n=this.constructor;return this.then(function(e){return n.cast(t()).then(function(){return e})},function(e){return n.cast(t()).then(function(){throw e})},e)}}}),define("rsvp/promise/all",["../utils","exports"],function(t,e){var n=t.isArray,r=t.isNonThenable;e["default"]=function(t,e){var i=this;return new i(function(e,s){function o(t){return function(n){l[t]=n,0===--c&&e(l)}}function a(t){c=0,s(t)}if(!n(t))throw new TypeError("You must pass an array to all.");var u,c=t.length,l=new Array(c);if(0===c)return void e(l);for(var h=0;h<t.length;h++)u=t[h],r(u)?(l[h]=u,0===--c&&e(l)):i.resolve(u).then(o(h),a)},e)}}),define("rsvp/promise/cast",["exports"],function(t){t["default"]=function(t,e){var n=this;return t&&"object"==typeof t&&t.constructor===n?t:new n(function(e){e(t)},e)}}),define("rsvp/promise/race",["../utils","exports"],function(t,e){var n=t.isArray,r=(t.isFunction,t.isNonThenable);e["default"]=function(t,e){var i,s=this;return new s(function(e,o){function a(t){c&&(c=!1,e(t))}function u(t){c&&(c=!1,o(t))}if(!n(t))throw new TypeError("You must pass an array to race.");for(var c=!0,l=0;l<t.length;l++){if(i=t[l],r(i))return c=!1,void e(i);s.resolve(i).then(a,u)}},e)}}),define("rsvp/promise/reject",["exports"],function(t){t["default"]=function(t,e){var n=this;return new n(function(e,n){n(t)},e)}}),define("rsvp/promise/resolve",["exports"],function(t){t["default"]=function(t,e){var n=this;return t&&"object"==typeof t&&t.constructor===n?t:new n(function(e){e(t)},e)}}),define("rsvp/race",["./promise","exports"],function(t,e){var n=t["default"];e["default"]=function(t,e){return n.race(t,e)}}),define("rsvp/reject",["./promise","exports"],function(t,e){var n=t["default"];e["default"]=function(t,e){return n.reject(t,e)}}),define("rsvp/resolve",["./promise","exports"],function(t,e){var n=t["default"];e["default"]=function(t,e){return n.resolve(t,e)}}),define("rsvp/rethrow",["exports"],function(t){t["default"]=function(t){throw setTimeout(function(){throw t}),t}}),define("rsvp/utils",["exports"],function(t){function e(t){return"function"==typeof t||"object"==typeof t&&null!==t}function n(t){return"function"==typeof t}function r(t){return!e(t)}t.objectOrFunction=e,t.isFunction=n,t.isNonThenable=r;var i;i=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var s=i;t.isArray=s;var o=Date.now||function(){return(new Date).getTime()};t.now=o;var a=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.keysOf=a}),define("rsvp",["./rsvp/promise","./rsvp/events","./rsvp/node","./rsvp/all","./rsvp/all_settled","./rsvp/race","./rsvp/hash","./rsvp/hash_settled","./rsvp/rethrow","./rsvp/defer","./rsvp/config","./rsvp/map","./rsvp/resolve","./rsvp/reject","./rsvp/filter","./rsvp/asap","exports"],function(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,v){function m(t,e){T.async(t,e)}function y(){T.on.apply(T,arguments)}function x(){T.off.apply(T,arguments)}var _=t["default"],b=e["default"],w=n["default"],C=r["default"],P=i["default"],S=s["default"],A=o["default"],I=a["default"],E=u["default"],k=c["default"],T=l.config,O=l.configure,j=h["default"],L=f["default"],M=d["default"],R=p["default"],H=g["default"];if(T.async=H,"undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var q=window.__PROMISE_INSTRUMENTATION__;O("instrument",!0);for(var N in q)q.hasOwnProperty(N)&&y(N,q[N])}v.Promise=_,v.EventTarget=b,v.all=C,v.allSettled=P,v.race=S,v.hash=A,v.hashSettled=I,v.rethrow=E,v.defer=k,v.denodeify=w,v.configure=O,v.on=y,v.off=x,v.resolve=L,v.reject=M,v.async=m,v.map=j,v.filter=R}),define("pixy/mixins/react/util",["inflection"],function(){var t={getName:function(e){return(e.displayName||t.getStatic(e,"displayName")).underscore().camelize()},render:function(t,e,n){return t?t.call?n?t(e):this.transferPropsTo(t(e)):t:!1},getStatic:function(t,e){if(t.originalSpec)return t.originalSpec[e];if(t.constructor)return t.constructor[e];if(t.type)return t.type[e];if(t[e])return t[e];throw console.warn(t),new Error("Unable to get a reference to #statics of component. See console.")}};return t}),define("pixy/mixins/react/layout_manager_mixin",["react","lodash","rsvp","./util"],function(t,e,n,r){var i=e.extend,s=e.merge,o=[].slice,a=r.getName,u=function(){var t=o.call(arguments),e=t[0];t[0]=a(e)+":",console.debug.apply(console,t)};return{getInitialState:function(){return{}},add:function(t,e,i){var s,o,c=r.getStatic(this,"getLayout")(e,this.props,this.state),l=n.defer();return i=i||{},c?c.canAdd(t,i)?(s=c.addComponent(t,i,this.state))?(u(this,"adding component",a(t),"to layout",e),this.setState(s,l.resolve),l.promise):l.resolve():(o="Component "+a(t)+" can not be added to the layout "+a(c),l.reject(o)):l.reject('Unknown layout "'+e+'"')},addMany:function(t){var e,i=n.defer();return e=t.reduce(function(t,e){var n,i=e.component,o=e.layoutName,c=e.options||{},l=r.getStatic(this,"getLayout")(o,this.props,this.state);return l?l.canAdd(i,c)?(n=l.addComponent(i,c,this.state))?(u(this,"adding component",a(i),"to layout",o),u(this,n),s(t,n)):t:(console.error("Component "+a(i)+" can not be added to the layout "+a(l)),t):(console.error('Unknown layout "'+o+'"'),t)}.bind(this),{}),console.log("Adding many components:",e,"from:",t),this.setState(e,i.resolve),i.promise},remove:function(t,e,i){var s,o=r.getStatic(this,"getLayout")(e,this.props,this.state),c=n.defer();return i=i||{},o?(u(this,"removing component",a(t),"from layout",e),(s=o.removeComponent(t,i,this.state))?(this.setState(s,c.resolve),c.promise):c.resolve()):c.reject('Unknown layout "'+e+'"')},renderLayout:function(t,e,n){var r=t(i({},e,{components:this.getLayoutChildren(t)}));return n?r:this.transferPropsTo(r)},clearLayout:function(t){var e={};e[a(t)]=void 0,this.setState(e)},getLayoutChildren:function(t){return this.state[a(t)]}}}),define("pixy/mixins/react/layout_mixin",["react","underscore","./util"],function(t,e,n){var r=e.contains,i=t.addons.update,s=n.render,o=n.getName,a=function(t,e){var n=e.components[t];return n?n&&"function"==typeof n.canMount?n.canMount(e)?n:void 0:n:void 0},u=function(t){return t.defaultOutlet};return{statics:{canAdd:function(t,e){var n=this.availableOutlets?this.availableOutlets():[];return r(n,e.outlet||u(this))},isEmpty:function(t,e){var n,r=t?t.components:e[o(this)];for(n in r)if(r.hasOwnProperty(n)&&r[n])return!1;return!0},addComponent:function(t,e,n){var r,s=o(this),a=e.outlet||u(this),c={};return n[s]?(r={},r[a]={$set:t},c[s]=i(n[s],r)):(c[s]={},c[s][a]=t),c},removeComponent:function(t,e,r){var i,s,o,a=n.getName(this);if(s=e.outlet||u(this),!s){i=r[a];for(s in i)if(i[s]===t){o=!0;break}if(!o)return void 0}return this.addComponent(void 0,{outlet:s},r)}},getDefaultProps:function(){return{components:{}}},hasOutletOccupant:function(t){return!!a(t,this.props)},renderOutlet:function(t,e,n){return s.apply(this,[a(t,this.props),e,n])}}}),define("pixy/mixins/react/stacked_layout_mixin",["react","underscore","./util"],function(t,e,n){var r=e.without,i=t.addons.update,s=n.getName,o=n.render;return{statics:{canAdd:function(){return!0},isEmpty:function(t,e){var n=t?t.components:e[s(this)];return!n||n.length<1},addComponent:function(t,e){var n={},r=s(this);return n[r]=e[r]?i(e[r],{$unshift:[t]}):[t],n},removeComponent:function(t,e){var n={},i=s(this);return n[i]=r(e[i],t),n}},getDefaultProps:function(){return{components:[]}},getNextComponentType:function(){return this.props.components[0]},renderComponent:function(t,e){return o.apply(this,[this.getNextComponentType(),t,e])}}}),define("pixy/mixins/events",["underscore"],function(t){var e=/\s+/,n=Array.prototype.slice,r=function(t,n,r,i){if(!r)return!0;if("object"==typeof r){for(var s in r)t[n].apply(t,[s,r[s]].concat(i));return!1}if(e.test(r)){for(var o=r.split(e),a=0,u=o.length;u>a;a++)t[n].apply(t,[o[a]].concat(i));return!1}return!0},i=function(t,e){var n,r=-1,i=t.length,s=e[0],o=e[1],a=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s,o);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s,o,a);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e)}},s={listenTo:"on",listenToOnce:"once"},o={on:function(t,e,n){return r(this,"on",t,[e,n])&&e?(this._events||(this._events={}),this._events[t]||(this._events[t]=[]),this._events[t].push({callback:e,context:n,ctx:n||this}),this):this},once:function(e,n,i){if(!r(this,"once",e,[n,i])||!n)return this;var s=this,o=t.once(function(){s.off(e,o),n.apply(this,arguments)});return o._callback=n,this.on(e,o,i)},off:function(e,n,i){var s,o,a,u,c,l,h,f;if(!this._events||!r(this,"off",e,[n,i]))return this;if(!e&&!n&&!i)return this._events={},this;for(u=e?[e]:t.keys(this._events),c=0,l=u.length;l>c;c++)if(e=u[c],a=this._events[e]){if(this._events[e]=s=[],n||i)for(h=0,f=a.length;f>h;h++)o=a[h],(n&&n!==o.callback&&n!==o.callback._callback||i&&i!==o.context)&&s.push(o);s.length||delete this._events[e]}return this},trigger:function(t){if(!this._events)return this;var e=n.call(arguments,1);if(!r(this,"trigger",t,e))return this;var s=this._events[t],o=this._events.all;return s&&i(s,e),o&&i(o,arguments),this},stopListening:function(t,e,n){var r=this._listeners;if(!r)return this;var i=!e&&!n;"object"==typeof e&&(n=this),t&&((r={})[t._listenerId]=t);for(var s in r)r[s].off(e,n,this),i&&delete this._listeners[s];return this}};return t.each(s,function(e,n){o[n]=function(n,r,i){var s=this._listeners||(this._listeners={}),o=n._listenerId||(n._listenerId=t.uniqueId("l"));return s[o]=n,"object"==typeof r&&(i=this),n[e](r,i,this),this}}),o.bind=o.on,o.unbind=o.off,o}),define("pixy/mixins/logger",["underscore"],function(t){var e="log",n={log:function(){if(!this.options||!this.options.mute){var n,r=this.toString();return n=t.flatten(arguments||[]),n.unshift("["+r+"]: "),console[e].apply(console,n)}},mute:function(){this.__log=this.log,this.log=function(){}},unmute:function(){this.log=this.__log,this.__log=null}};return t.each(["debug","info","warn","error"],function(t){n[t]=function(){var n;return e=t,n=this.log.apply(this,arguments),e="log",n}}),n}),define("pixy/util",[],function(){var t=function(){throw new Error('A "url" property or function must be specified')},e=function(t,e){var n=e.error;e.error=function(r){n&&n(t,r,e),t.trigger("error",t,r,e)}};return{urlError:t,wrapError:e}}),define("pixy/util/sync",["underscore","../util"],function(t,e){var n=e.urlError,r=t.result,i=t.extend,s=t.contains,o={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"},a=["create","update","patch"];return function(t,e,u){var c,l,h,f=o[t];return u=u||{},c={type:f,dataType:"json"},u.url||(c.url=r(e,"url")||n()),!u.data&&e&&s(a,t)&&(h=u.attrs||e.toJSON(u),e.normalize(h),c.contentType="application/json",c.data=JSON.stringify(h)),"GET"!==c.type&&(c.processData=!1),l=u.xhr=this.ajax(i(c,u)),e.trigger("request",e,l,u),l}}),define("pixy/namespace",["jquery","underscore","rsvp","./mixins/events","./mixins/logger","./util/sync"],function(t,e,n,r,i,s){var o,a=e.extend,u=this,c=u.Pixy;return o="undefined"!=typeof exports?exports:u.Pixy={},o.VERSION="2.0.0",o.sync=e.bind(s,o),o.$=t,a(o,r,i,{name:"Pixy"}),o.noConflict=function(){return u.Pixy=c,this},o.ajax=function(){return n.Promise.cast(o.$.ajax.apply(o.$,arguments))},o.warn=function(){return window.hasOwnProperty("PIXY_TEST")?void 0:console.warn.apply(console,arguments)},o}),define("pixy/util/extend",["underscore"],function(t){var e=[].slice,n=(t.has,function(){var n,r,i,s,o=this;n=e.call(arguments,0),s=t.last(n),t.has(s,"mixins")&&(n=t.union(s.mixins,n)),i=s&&t.has(s,"constructor")?s.constructor:function(){return o.apply(this,arguments)},t.extend(i,o);var a=function(){this.constructor=i};return a.prototype=o.prototype,i.prototype=new a,r=t.clone(o.prototype.__mixinInitializers__||[]),t.each(n,function(t,e){if(e+1!==n.length){var i=t.__initialize__;i?r.push(i):console.warn("looks like mixin has no initialize?",t)}}),r.length&&(i.prototype.__mixinInitializers__=r),n.unshift(i.prototype),t.extend.apply(t,n),i});return n.withoutMixins=function(n){var r,i,n,s=this;r=e.call(arguments,0),n=t.last(r),t.has(n,"mixins")&&(r=t.union(n.mixins,r)),i=n&&t.has(n,"constructor")?n.constructor:function(){return s.apply(this,arguments)},t.extend(i,s);var o=function(){this.constructor=i};return o.prototype=s.prototype,i.prototype=new o,t.extend(i.prototype,n),i},n}),define("pixy/object",["underscore","./namespace","./util/extend","./mixins/events","./mixins/logger"],function(t,e,n,r,i){var s=function(){},o=[].slice,a=function(){this.__mixinInitializers__&&(this.__mixinInitializers__.forEach(function(t){try{t.apply(this,[])}catch(e){console.warn("Mixin failed to initialize:",e.stack)}}.bind(this)),delete this.__mixinInitializers__)},u=function(e,n,r){return arguments.length<=1&&(r=o.call(arguments),e="object",n=s),e=e||"object",a.call(this),t.isFunction(n)?n.call(this):console.warn("Pixy::Object: expected a constructor function, got:",typeof n,this),this.initialize.apply(this,r),this};return t.extend(u.prototype,r,i,{name:"Object",initialize:function(){},toString:function(){return this.name||this.id}}),u.extend=n,u}),define("pixy/core/dispatcher",["underscore","rsvp","../object"],function(t,e,n){var r=[],i=[],s=t.extend,o=0,a={},u=n.extend({name:"Dispatcher",dispatch:function(t,n,u){var c,l,h,f,d,p=t.split(":");return 2===p.length&&(h=p[0],f=p[1]),l=s({},u,{id:f,storeKey:h,type:t,index:++o,payload:n}),f?-1===i.indexOf(t)?(console.assert(!1,"No action handler registered to:",t),d=e.reject('Unknown action "'+f+'"')):(console.debug('Dispatching targeted action "',f,'" with args:',l),d=a[h](l)):(console.debug('Dispatching generic action "',l.type,'" to all stores:',l.payload),d=e.all(r.reduce(function(t,e){return t.concat(e(l))},[]))),c={promise:d,index:l.index,actionIndex:l.index}},register:function(t){r.push(t)},registerActionHandler:function(t,e){i.push([e,t].join(":"))},registerHandler:function(t,e){a[t]=e}});return new u}),define("pixy/mixins/react/actor_mixin",["require","../../core/dispatcher"],function(t){var e=t("../../core/dispatcher"),n={getInitialState:function(){return{actionIndex:null}},getDefaultProps:function(){return{storeError:null}},componentWillReceiveProps:function(t){var e=t.storeError;e&&e.actionIndex===this.state.actionIndex&&this.setState({storeError:e})},componentDidUpdate:function(){this.state.storeError&&(this.onStoreError&&this.onStoreError(this.state.storeError),this.setState({storeError:null}))},componentWillUnmount:function(){this.lastAction=void 0},trackAction:function(t){this.lastAction=t.promise,this.setState({actionIndex:t.index})},consume:function(t){t&&t.preventDefault()},sendAction:function(t,n,r){var i=this.setState.bind(this),s=e.dispatch(t,n,{source:"VIEW_ACTION"});return r&&r.track===!1?void 0:(this.trackAction(s),s.promise.then(null,function(t){i({storeError:{actionIndex:s.index,error:t}})}),s.promise)}};return n}),define("pixy/ext/react",["require","react","../mixins/react/layout_manager_mixin","../mixins/react/layout_mixin","../mixins/react/stacked_layout_mixin","../mixins/react/actor_mixin"],function(t){var e=t("react"),n=t("../mixins/react/layout_manager_mixin"),r=t("../mixins/react/layout_mixin"),i=t("../mixins/react/stacked_layout_mixin"),s=t("../mixins/react/actor_mixin");return e.addons.LayoutManagerMixin=n,e.addons.LayoutMixin=r,e.addons.StackedLayoutMixin=i,e.addons.ActorMixin=s,e}),define("pixy/ext/jquery",["jquery"],function(t){return t.consume?console.log("$.consume() is already defined, will not override the definition"):t.consume=function(t){return t?(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.cancelBubble=!0,t.returnValue=!1,!1):void 0},t}),define("route-recognizer",["exports"],function(t){function e(t){return"[object Array]"===Object.prototype.toString.call(t)}function n(t){this.string=t}function r(t){this.name=t}function i(t){this.name=t}function s(){}function o(t,e,o){"/"===t.charAt(0)&&(t=t.substr(1));for(var a=t.split("/"),u=[],c=0,l=a.length;l>c;c++){var h,f=a[c];(h=f.match(/^:([^\/]+)$/))?(u.push(new r(h[1])),e.push(h[1]),o.dynamics++):(h=f.match(/^\*([^\/]+)$/))?(u.push(new i(h[1])),e.push(h[1]),o.stars++):""===f?u.push(new s):(u.push(new n(f)),o.statics++)}return u}function a(t){this.charSpec=t,this.nextStates=[]}function u(t){return t.sort(function(t,e){if(t.types.stars!==e.types.stars)return t.types.stars-e.types.stars;if(t.types.stars){if(t.types.statics!==e.types.statics)return e.types.statics-t.types.statics;if(t.types.dynamics!==e.types.dynamics)return e.types.dynamics-t.types.dynamics}return t.types.dynamics!==e.types.dynamics?t.types.dynamics-e.types.dynamics:t.types.statics!==e.types.statics?e.types.statics-t.types.statics:0})}function c(t,e){for(var n=[],r=0,i=t.length;i>r;r++){var s=t[r];n=n.concat(s.match(e))}return n}function l(t){this.queryParams=t||{}}function h(t,e,n){for(var r=t.handlers,i=t.regex,s=e.match(i),o=1,a=new l(n),u=0,c=r.length;c>u;u++){for(var h=r[u],f=h.names,d={},p=0,g=f.length;g>p;p++)d[f[p]]=s[o++];a.push({handler:h.handler,params:d,isDynamic:!!f.length})}return a}function f(t,e){return e.eachChar(function(e){t=t.put(e)}),t}function d(t,e,n){this.path=t,this.matcher=e,this.delegate=n}function p(t){this.routes={},this.children={},this.target=t}function g(t,e,n){return function(r,i){var s=t+r;return i?void i(g(s,e,n)):new d(t+r,e,n)}}function v(t,e,n){for(var r=0,i=0,s=t.length;s>i;i++)r+=t[i].path.length;e=e.substr(r);var o={path:e,handler:n};t.push(o)}function m(t,e,n,r){var i=e.routes;for(var s in i)if(i.hasOwnProperty(s)){var o=t.slice();v(o,s,i[s]),e.children[s]?m(o,e.children[s],n,r):n.call(r,o)}}var y=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],x=new RegExp("(\\"+y.join("|\\")+")","g");n.prototype={eachChar:function(t){for(var e,n=this.string,r=0,i=n.length;i>r;r++)e=n.charAt(r),t({validChars:e})},regex:function(){return this.string.replace(x,"\\$1")},generate:function(){return this.string}},r.prototype={eachChar:function(t){t({invalidChars:"/",repeat:!0})},regex:function(){return"([^/]+)"},generate:function(t){return t[this.name]}},i.prototype={eachChar:function(t){t({invalidChars:"",repeat:!0})},regex:function(){return"(.+)"},generate:function(t){return t[this.name]}},s.prototype={eachChar:function(){},regex:function(){return""},generate:function(){return""}},a.prototype={get:function(t){for(var e=this.nextStates,n=0,r=e.length;r>n;n++){var i=e[n],s=i.charSpec.validChars===t.validChars;if(s=s&&i.charSpec.invalidChars===t.invalidChars)return i}},put:function(t){var e;return(e=this.get(t))?e:(e=new a(t),this.nextStates.push(e),t.repeat&&e.nextStates.push(e),e)},match:function(t){for(var e,n,r,i=this.nextStates,s=[],o=0,a=i.length;a>o;o++)e=i[o],n=e.charSpec,"undefined"!=typeof(r=n.validChars)?-1!==r.indexOf(t)&&s.push(e):"undefined"!=typeof(r=n.invalidChars)&&-1===r.indexOf(t)&&s.push(e);return s}};var _=Object.create||function(t){function e(){}return e.prototype=t,new e};l.prototype=_({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var b=function(){this.rootState=new a,this.names={}};b.prototype={add:function(t,e){for(var n,r=this.rootState,i="^",a={statics:0,dynamics:0,stars:0},u=[],c=[],l=!0,h=0,d=t.length;d>h;h++){var p=t[h],g=[],v=o(p.path,g,a);c=c.concat(v);for(var m=0,y=v.length;y>m;m++){var x=v[m];x instanceof s||(l=!1,r=r.put({validChars:"/"}),i+="/",r=f(r,x),i+=x.regex())}var _={handler:p.handler,names:g};u.push(_)}l&&(r=r.put({validChars:"/"}),i+="/"),r.handlers=u,r.regex=new RegExp(i+"$"),r.types=a,(n=e&&e.as)&&(this.names[n]={segments:c,handlers:u})},handlersFor:function(t){var e=this.names[t],n=[];if(!e)throw new Error("There is no route named "+t);for(var r=0,i=e.handlers.length;i>r;r++)n.push(e.handlers[r]);return n},hasRoute:function(t){return!!this.names[t]},generate:function(t,e){var n=this.names[t],r="";if(!n)throw new Error("There is no route named "+t);for(var i=n.segments,o=0,a=i.length;a>o;o++){var u=i[o];u instanceof s||(r+="/",r+=u.generate(e))}return"/"!==r.charAt(0)&&(r="/"+r),e&&e.queryParams&&(r+=this.generateQueryString(e.queryParams,n.handlers)),r},generateQueryString:function(t){var n=[],r=[];for(var i in t)t.hasOwnProperty(i)&&r.push(i);r.sort();for(var s=0,o=r.length;o>s;s++){i=r[s];var a=t[i];if(null!=a){var u=i;if(e(a))for(var c=0,l=a.length;l>c;c++){var h=i+"[]="+encodeURIComponent(a[c]);n.push(h)}else u+="="+encodeURIComponent(a),n.push(u)}}return 0===n.length?"":"?"+n.join("&")},parseQueryString:function(t){for(var e=t.split("&"),n={},r=0;r<e.length;r++){var i,s=e[r].split("="),o=decodeURIComponent(s[0]),a=o.length,u=!1;1===s.length?i="true":(a>2&&"[]"===o.slice(a-2)&&(u=!0,o=o.slice(0,a-2),n[o]||(n[o]=[])),i=s[1]?decodeURIComponent(s[1]):""),u?n[o].push(i):n[o]=decodeURIComponent(i)}return n},recognize:function(t){var e,n,r,i,s=[this.rootState],o={},a=!1;if(t=decodeURI(t),i=t.indexOf("?"),-1!==i){var l=t.substr(i+1,t.length);t=t.substr(0,i),o=this.parseQueryString(l)}for("/"!==t.charAt(0)&&(t="/"+t),e=t.length,e>1&&"/"===t.charAt(e-1)&&(t=t.substr(0,e-1),a=!0),n=0,r=t.length;r>n&&(s=c(s,t.charAt(n)),s.length);n++);var f=[];for(n=0,r=s.length;r>n;n++)s[n].handlers&&f.push(s[n]);s=u(f);var d=f[0];return d&&d.handlers?(a&&"(.+)$"===d.regex.source.slice(-5)&&(t+="/"),h(d,t,o)):void 0}},t["default"]=b,d.prototype={to:function(t,e){var n=this.delegate;if(n&&n.willAddRoute&&(t=n.willAddRoute(this.matcher.target,t)),this.matcher.add(this.path,t),e){if(0===e.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,t,e,this.delegate)}return this}},p.prototype={add:function(t,e){this.routes[t]=e},addChild:function(t,e,n,r){var i=new p(e);this.children[t]=i;var s=g(t,i,r);r&&r.contextEntered&&r.contextEntered(e,s),n(s)}},b.prototype.map=function(t,e){var n=new p;t(g("",n,this.delegate)),m([],n,function(t){e?e(this,t):this.add(t)},this)}}),define("router/handler-info",["./utils","rsvp/promise","exports"],function(t,e,n){function r(t){var e=t||{};o(this,e),this.initialize(e)}function i(t,e){if(!t^!e)return!1;if(!t)return!0;for(var n in t)if(t.hasOwnProperty(n)&&t[n]!==e[n])return!1;return!0}var s=t.bind,o=t.merge,a=(t.serialize,t.promiseLabel),u=t.applyHook,c=e["default"];r.prototype={name:null,handler:null,params:null,context:null,factory:null,initialize:function(){},log:function(t,e){t.log&&t.log(this.name+": "+e)},promiseLabel:function(t){return a("'"+this.name+"' "+t)},getUnresolved:function(){return this},serialize:function(){return this.params||{}},resolve:function(t,e){var n=s(this,this.checkForAbort,t),r=s(this,this.runBeforeModelHook,e),i=s(this,this.getModel,e),o=s(this,this.runAfterModelHook,e),a=s(this,this.becomeResolved,e);return c.resolve(void 0,this.promiseLabel("Start handler")).then(n,null,this.promiseLabel("Check for abort")).then(r,null,this.promiseLabel("Before model")).then(n,null,this.promiseLabel("Check if aborted during 'beforeModel' hook")).then(i,null,this.promiseLabel("Model")).then(n,null,this.promiseLabel("Check if aborted in 'model' hook")).then(o,null,this.promiseLabel("After model")).then(n,null,this.promiseLabel("Check if aborted in 'afterModel' hook")).then(a,null,this.promiseLabel("Become resolved"))},runBeforeModelHook:function(t){return t.trigger&&t.trigger(!0,"willResolveModel",t,this.handler),this.runSharedModelHook(t,"beforeModel",[])},runAfterModelHook:function(t,e){var n=this.name;return this.stashResolvedModel(t,e),this.runSharedModelHook(t,"afterModel",[e]).then(function(){return t.resolvedModels[n]},null,this.promiseLabel("Ignore fulfillment value and return model value"))},runSharedModelHook:function(t,e,n){this.log(t,"calling "+e+" hook"),this.queryParams&&n.push(this.queryParams),n.push(t);var r=u(this.handler,e,n);return r&&r.isTransition&&(r=null),c.resolve(r,this.promiseLabel("Resolve value returned from one of the model hooks"))},getModel:null,checkForAbort:function(t,e){return c.resolve(t(),this.promiseLabel("Check for abort")).then(function(){return e},null,this.promiseLabel("Ignore fulfillment value and continue"))},stashResolvedModel:function(t,e){t.resolvedModels=t.resolvedModels||{},t.resolvedModels[this.name]=e},becomeResolved:function(t,e){var n=this.serialize(e);
return t&&(this.stashResolvedModel(t,e),t.params=t.params||{},t.params[this.name]=n),this.factory("resolved",{context:e,name:this.name,handler:this.handler,params:n})},shouldSupercede:function(t){if(!t)return!0;var e=t.context===this.context;return t.name!==this.name||this.hasOwnProperty("context")&&!e||this.hasOwnProperty("params")&&!i(this.params,t.params)}},n["default"]=r}),define("router/handler-info/factory",["router/handler-info/resolved-handler-info","router/handler-info/unresolved-handler-info-by-object","router/handler-info/unresolved-handler-info-by-param","exports"],function(t,e,n,r){function i(t,e){var n=i.klasses[t],r=new n(e||{});return r.factory=i,r}var s=t["default"],o=e["default"],a=n["default"];i.klasses={resolved:s,param:a,object:o},r["default"]=i}),define("router/handler-info/resolved-handler-info",["../handler-info","router/utils","rsvp/promise","exports"],function(t,e,n,r){var i=t["default"],s=e.subclass,o=(e.promiseLabel,n["default"]),a=s(i,{resolve:function(t,e){return e&&e.resolvedModels&&(e.resolvedModels[this.name]=this.context),o.resolve(this,this.promiseLabel("Resolve"))},getUnresolved:function(){return this.factory("param",{name:this.name,handler:this.handler,params:this.params})},isResolved:!0});r["default"]=a}),define("router/handler-info/unresolved-handler-info-by-object",["../handler-info","router/utils","rsvp/promise","exports"],function(t,e,n,r){var i=t["default"],s=(e.merge,e.subclass),o=(e.promiseLabel,e.isParam),a=n["default"],u=s(i,{getModel:function(t){return this.log(t,this.name+": resolving provided model"),a.resolve(this.context)},initialize:function(t){this.names=t.names||[],this.context=t.context},serialize:function(t){var e=t||this.context,n=this.names,r=this.handler,i={};if(o(e))return i[n[0]]=e,i;if(r.serialize)return r.serialize(e,n);if(1===n.length){var s=n[0];return i[s]=/_id$/.test(s)?e.id:e,i}}});r["default"]=u}),define("router/handler-info/unresolved-handler-info-by-param",["../handler-info","router/utils","exports"],function(t,e,n){var r=t["default"],i=e.resolveHook,s=e.merge,o=e.subclass,a=(e.promiseLabel,o(r,{initialize:function(t){this.params=t.params||{}},getModel:function(t){var e=this.params;t&&t.queryParams&&(e={},s(e,this.params),e.queryParams=t.queryParams);var n=this.handler,r=i(n,"deserialize")||i(n,"model");return this.runSharedModelHook(t,r,[e])}}));n["default"]=a}),define("router/router",["route-recognizer","rsvp/promise","./utils","./transition-state","./transition","./transition-intent/named-transition-intent","./transition-intent/url-transition-intent","./handler-info","exports"],function(t,e,n,r,i,s,o,a,u){function c(){this.recognizer=new b,this.reset()}function l(t,e){var n,r=!!this.activeTransition,i=r?this.activeTransition.state:this.state,s=t.applyToState(i,this.recognizer,this.getHandler,e),o=k(i.queryParams,s.queryParams);return y(s.handlerInfos,i.handlerInfos)?o&&(n=this.queryParamsTransition(o,r,i,s))?n:new M(this):e?void f(this,s):(n=new M(this,t,s),this.activeTransition&&this.activeTransition.abort(),this.activeTransition=n,n.promise=n.promise.then(function(t){return v(n,t.state)},null,T("Settle transition promise when transition is finalized")),r||_(this,s,n),h(this,s,o),n)}function h(t,e,n){n&&(t._changedQueryParams=n.all,C(t,e.handlerInfos,!0,["queryParamsDidChange",n.changed,n.all,n.removed]),t._changedQueryParams=null)}function f(t,e,n){var r=p(t.state,e);A(r.exited,function(t){var e=t.handler;delete e.context,O(e,"reset",!0,n),O(e,"exit",n)});var i=t.oldState=t.state;t.state=e;var s=t.currentHandlerInfos=r.unchanged.slice();try{A(r.reset,function(t){var e=t.handler;O(e,"reset",!1,n)}),A(r.updatedContext,function(t){return d(s,t,!1,n)}),A(r.entered,function(t){return d(s,t,!0,n)})}catch(o){throw t.state=i,t.currentHandlerInfos=i.handlerInfos,o}t.state.queryParams=x(t,s,e.queryParams,n)}function d(t,e,n,r){var i=e.handler,s=e.context;if(n&&O(i,"enter",r),r&&r.isAborted)throw new R;if(i.context=s,O(i,"contextDidChange"),O(i,"setup",s,r),r&&r.isAborted)throw new R;return t.push(e),!0}function p(t,e){var n,r,i,s=t.handlerInfos,o=e.handlerInfos,a={updatedContext:[],exited:[],entered:[],unchanged:[]},u=!1;for(r=0,i=o.length;i>r;r++){var c=s[r],l=o[r];c&&c.handler===l.handler||(n=!0),n?(a.entered.push(l),c&&a.exited.unshift(c)):u||c.context!==l.context?(u=!0,a.updatedContext.push(l)):a.unchanged.push(c)}for(r=o.length,i=s.length;i>r;r++)a.exited.unshift(s[r]);return a.reset=a.updatedContext.slice(),a.reset.reverse(),a}function g(t,e){var n=t.urlMethod;if(n){for(var r=t.router,i=e.handlerInfos,s=i[i.length-1].name,o={},a=i.length-1;a>=0;--a){var u=i[a];I(o,u.params),u.handler.inaccessibleByURL&&(n=null)}if(n){o.queryParams=t._visibleQueryParams||e.queryParams;var c=r.recognizer.generate(s,o);"replace"===n?r.replaceURL(c):r.updateURL(c)}}}function v(t,e){try{P(t.router,t.sequence,"Resolved all models on destination route; finalizing transition.");{var n=t.router,r=e.handlerInfos;t.sequence}return f(n,e,t),t.isAborted?(n.state.handlerInfos=n.currentHandlerInfos,w.reject(L(t))):(g(t,e,t.intent.url),t.isActive=!1,n.activeTransition=null,C(n,n.currentHandlerInfos,!0,["didTransition"]),n.didTransition&&n.didTransition(n.currentHandlerInfos),P(n,t.sequence,"TRANSITION COMPLETE."),r[r.length-1].handler)}catch(i){if(!(i instanceof R)){var s=t.state.handlerInfos;t.trigger(!0,"error",i,t,s[s.length-1].handler),t.abort()}throw i}}function m(t,e,n){var r=e[0]||"/",i=e[e.length-1],s={};i&&i.hasOwnProperty("queryParams")&&(s=N.call(e).queryParams);var o;if(0===e.length){P(t,"Updating query params");var a=t.state.handlerInfos;o=new H({name:a[a.length-1].name,contexts:[],queryParams:s})}else"/"===r.charAt(0)?(P(t,"Attempting URL transition to "+r),o=new q({url:r})):(P(t,"Attempting transition to "+r),o=new H({name:e[0],contexts:S.call(e,1),queryParams:s}));return t.transitionByIntent(o,n)}function y(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;r>n;++n)if(t[n]!==e[n])return!1;return!0}function x(t,e,n,r){for(var i in n)n.hasOwnProperty(i)&&null===n[i]&&delete n[i];var s=[];C(t,e,!0,["finalizeQueryParamChange",n,s,r]),r&&(r._visibleQueryParams={});for(var o={},a=0,u=s.length;u>a;++a){var c=s[a];o[c.key]=c.value,r&&c.visible!==!1&&(r._visibleQueryParams[c.key]=c.value)}return o}function _(t,e,n){var r,i,s,o,a,u,c=t.state.handlerInfos,l=[],h=null;for(o=c.length,s=0;o>s;s++){if(a=c[s],u=e.handlerInfos[s],!u||a.name!==u.name){h=s;break}u.isResolved||l.push(a)}null!==h&&(r=c.slice(h,o),i=function(t){for(var e=0,n=r.length;n>e;e++)if(r[e].name===t)return!0;return!1},t._triggerWillLeave(r,n,i)),l.length>0&&t._triggerWillChangeContext(l,n),C(t,c,!0,["willTransition",n])}var b=t["default"],w=e["default"],C=n.trigger,P=n.log,S=n.slice,A=n.forEach,I=n.merge,E=(n.serialize,n.extractQueryParams),k=n.getChangelist,T=n.promiseLabel,O=n.callHook,j=r["default"],L=i.logAbort,M=i.Transition,R=i.TransitionAborted,H=s["default"],q=o["default"],N=(a.ResolvedHandlerInfo,Array.prototype.pop);c.prototype={map:function(t){this.recognizer.delegate=this.delegate,this.recognizer.map(t,function(t,e){for(var n=e.length-1,r=!0;n>=0&&r;--n){var i=e[n];t.add(e,{as:i.handler}),r="/"===i.path||""===i.path||".index"===i.handler.slice(-6)}})},hasRoute:function(t){return this.recognizer.hasRoute(t)},queryParamsTransition:function(t,e,n,r){var i=this;if(h(this,r,t),!e&&this.activeTransition)return this.activeTransition;var s=new M(this);return s.queryParamsOnly=!0,n.queryParams=x(this,r.handlerInfos,r.queryParams,s),s.promise=s.promise.then(function(t){return g(s,n,!0),i.didTransition&&i.didTransition(i.currentHandlerInfos),t},null,T("Transition complete")),s},transitionByIntent:function(t){try{return l.apply(this,arguments)}catch(e){return new M(this,t,null,e)}},reset:function(){this.state&&A(this.state.handlerInfos.slice().reverse(),function(t){var e=t.handler;O(e,"exit")}),this.state=new j,this.currentHandlerInfos=null},activeTransition:null,handleURL:function(t){var e=S.call(arguments);return"/"!==t.charAt(0)&&(e[0]="/"+t),m(this,e).method(null)},updateURL:function(){throw new Error("updateURL is not implemented")},replaceURL:function(t){this.updateURL(t)},transitionTo:function(){return m(this,arguments)},intermediateTransitionTo:function(){return m(this,arguments,!0)},refresh:function(t){for(var e=this.activeTransition?this.activeTransition.state:this.state,n=e.handlerInfos,r={},i=0,s=n.length;s>i;++i){var o=n[i];r[o.name]=o.params||{}}P(this,"Starting a refresh transition");var a=new H({name:n[n.length-1].name,pivotHandler:t||n[0].handler,contexts:[],queryParams:this._changedQueryParams||e.queryParams||{}});return this.transitionByIntent(a,!1)},replaceWith:function(){return m(this,arguments).method("replace")},generate:function(t){for(var e=E(S.call(arguments,1)),n=e[0],r=e[1],i=new H({name:t,contexts:n}),s=i.applyToState(this.state,this.recognizer,this.getHandler),o={},a=0,u=s.handlerInfos.length;u>a;++a){var c=s.handlerInfos[a],l=c.serialize();I(o,l)}return o.queryParams=r,this.recognizer.generate(t,o)},applyIntent:function(t,e){var n=new H({name:t,contexts:e}),r=this.activeTransition&&this.activeTransition.state||this.state;return n.applyToState(r,this.recognizer,this.getHandler)},isActiveIntent:function(t,e,n){var r,i,s=this.state.handlerInfos;if(!s.length)return!1;var o=s[s.length-1].name,a=this.recognizer.handlersFor(o),u=0;for(i=a.length;i>u&&(r=s[u],r.name!==t);++u);if(u===a.length)return!1;var c=new j;c.handlerInfos=s.slice(0,u+1),a=a.slice(0,u+1);var l=new H({name:o,contexts:e}),h=l.applyToHandlers(c,a,this.getHandler,o,!0,!0),f=y(h.handlerInfos,c.handlerInfos);if(!n||!f)return f;var d={};I(d,n);var p=this.state.queryParams;for(var g in p)p.hasOwnProperty(g)&&d.hasOwnProperty(g)&&(d[g]=p[g]);return f&&!k(d,n)},isActive:function(t){var e=E(S.call(arguments,1));return this.isActiveIntent(t,e[0],e[1])},trigger:function(){var t=S.call(arguments);C(this,this.currentHandlerInfos,!1,t)},log:null,_willChangeContextEvent:"willChangeContext",_triggerWillChangeContext:function(t,e){C(this,t,!0,[this._willChangeContextEvent,e])},_triggerWillLeave:function(t,e,n){C(this,t,!0,["willLeave",e,n])}},u["default"]=c}),define("router/transition-intent",["./utils","exports"],function(t,e){function n(t){this.initialize(t),this.data=this.data||{}}t.merge;n.prototype={initialize:null,applyToState:null},e["default"]=n}),define("router/transition-intent/named-transition-intent",["../transition-intent","../transition-state","../handler-info/factory","../utils","exports"],function(t,e,n,r,i){var s=t["default"],o=e["default"],a=n["default"],u=r.isParam,c=r.extractQueryParams,l=r.merge,h=r.subclass;i["default"]=h(s,{name:null,pivotHandler:null,contexts:null,queryParams:null,initialize:function(t){this.name=t.name,this.pivotHandler=t.pivotHandler,this.contexts=t.contexts||[],this.queryParams=t.queryParams},applyToState:function(t,e,n,r){var i=c([this.name].concat(this.contexts)),s=i[0],o=(i[1],e.handlersFor(s[0])),a=o[o.length-1].handler;return this.applyToHandlers(t,o,n,a,r)},applyToHandlers:function(t,e,n,r,i,s){var a,u,c=new o,h=this.contexts.slice(0),f=e.length;if(this.pivotHandler)for(a=0,u=e.length;u>a;++a)if(n(e[a].handler)===this.pivotHandler){f=a;break}!this.pivotHandler;for(a=e.length-1;a>=0;--a){var d=e[a],p=d.handler,g=n(p),v=t.handlerInfos[a],m=null;if(m=d.names.length>0?a>=f?this.createParamHandlerInfo(p,g,d.names,h,v):this.getHandlerInfoForDynamicSegment(p,g,d.names,h,v,r,a):this.createParamHandlerInfo(p,g,d.names,h,v),s){m=m.becomeResolved(null,m.context);var y=v&&v.context;d.names.length>0&&m.context===y&&(m.params=v&&v.params),m.context=y}var x=v;(a>=f||m.shouldSupercede(v))&&(f=Math.min(a,f),x=m),i&&!s&&(x=x.becomeResolved(null,x.context)),c.handlerInfos.unshift(x)}if(h.length>0)throw new Error("More context objects were passed than there are dynamic segments for the route: "+r);return i||this.invalidateChildren(c.handlerInfos,f),l(c.queryParams,this.queryParams||{}),c},invalidateChildren:function(t,e){for(var n=e,r=t.length;r>n;++n){{t[n]}t[n]=t[n].getUnresolved()}},getHandlerInfoForDynamicSegment:function(t,e,n,r,i,s,o){{var c;n.length}if(r.length>0){if(c=r[r.length-1],u(c))return this.createParamHandlerInfo(t,e,n,r,i);r.pop()}else{if(i&&i.name===t)return i;if(!this.preTransitionState)return i;var l=this.preTransitionState.handlerInfos[o];c=l&&l.context}return a("object",{name:t,handler:e,context:c,names:n})},createParamHandlerInfo:function(t,e,n,r,i){for(var s={},o=n.length;o--;){var c=i&&t===i.name&&i.params||{},l=r[r.length-1],h=n[o];if(u(l))s[h]=""+r.pop();else{if(!c.hasOwnProperty(h))throw new Error("You didn't provide enough string/numeric parameters to satisfy all of the dynamic segments for route "+t);s[h]=c[h]}}return a("param",{name:t,handler:e,params:s})}})}),define("router/transition-intent/url-transition-intent",["../transition-intent","../transition-state","../handler-info/factory","../utils","exports"],function(t,e,n,r,i){function s(t){this.message=t||"UnrecognizedURLError",this.name="UnrecognizedURLError"}var o=t["default"],a=e["default"],u=n["default"],c=(r.oCreate,r.merge),l=r.subclass;i["default"]=l(o,{url:null,initialize:function(t){this.url=t.url},applyToState:function(t,e,n){var r,i,o=new a,l=e.recognize(this.url);if(!l)throw new s(this.url);var h=!1;for(r=0,i=l.length;i>r;++r){var f=l[r],d=f.handler,p=n(d);if(p.inaccessibleByURL)throw new s(this.url);var g=u("param",{name:d,handler:p,params:f.params}),v=t.handlerInfos[r];h||g.shouldSupercede(v)?(h=!0,o.handlerInfos[r]=g):o.handlerInfos[r]=v}return c(o.queryParams,l.queryParams),o}})}),define("router/transition-state",["./handler-info","./utils","rsvp/promise","exports"],function(t,e,n,r){function i(){this.handlerInfos=[],this.queryParams={},this.params={}}var s=(t.ResolvedHandlerInfo,e.forEach),o=e.promiseLabel,a=e.callHook,u=n["default"];i.prototype={handlerInfos:null,queryParams:null,params:null,promiseLabel:function(t){var e="";return s(this.handlerInfos,function(t){""!==e&&(e+="."),e+=t.name}),o("'"+e+"': "+t)},resolve:function(t,e){function n(){return u.resolve(t(),l.promiseLabel("Check if should continue"))["catch"](function(t){return h=!0,u.reject(t)},l.promiseLabel("Handle abort"))}function r(t){var n=l.handlerInfos,r=e.resolveIndex>=n.length?n.length-1:e.resolveIndex;return u.reject({error:t,handlerWithError:l.handlerInfos[r].handler,wasAborted:h,state:l})}function i(t){var r=l.handlerInfos[e.resolveIndex].isResolved;if(l.handlerInfos[e.resolveIndex++]=t,!r){var i=t.handler;a(i,"redirect",t.context,e)}return n().then(o,null,l.promiseLabel("Resolve handler"))}function o(){if(e.resolveIndex===l.handlerInfos.length)return{error:null,state:l};var t=l.handlerInfos[e.resolveIndex];return t.resolve(n,e).then(i,null,l.promiseLabel("Proceed"))}var c=this.params;s(this.handlerInfos,function(t){c[t.name]=t.params||{}}),e=e||{},e.resolveIndex=0;var l=this,h=!1;return u.resolve(null,this.promiseLabel("Start transition")).then(o,null,this.promiseLabel("Resolve handler"))["catch"](r,this.promiseLabel("Handle error"))}},r["default"]=i}),define("router/transition",["rsvp/promise","./handler-info","./utils","exports"],function(t,e,n,r){function i(t,e,n,r){function o(){return u.isAborted?a.reject(void 0,h("Transition aborted - reject")):void 0}var u=this;if(this.state=n||t.state,this.intent=e,this.router=t,this.data=this.intent&&this.intent.data||{},this.resolvedModels={},this.queryParams={},r)return void(this.promise=a.reject(r));if(n){this.params=n.params,this.queryParams=n.queryParams,this.handlerInfos=n.handlerInfos;var c=n.handlerInfos.length;c&&(this.targetName=n.handlerInfos[c-1].name);for(var l=0;c>l;++l){var f=n.handlerInfos[l];if(!f.isResolved)break;this.pivotHandler=f.handler}this.sequence=i.currentSequence++,this.promise=n.resolve(o,this)["catch"](function(t){return t.wasAborted||u.isAborted?a.reject(s(u)):(u.trigger("error",t.error,u,t.handlerWithError),u.abort(),a.reject(t.error))},h("Handle Abort"))}else this.promise=a.resolve(this.state),this.params={}}function s(t){return l(t.router,t.sequence,"detected abort."),new o}function o(t){this.message=t||"TransitionAborted",this.name="TransitionAborted"}var a=t["default"],u=(e.ResolvedHandlerInfo,n.trigger),c=n.slice,l=n.log,h=n.promiseLabel;i.currentSequence=0,i.prototype={targetName:null,urlMethod:"update",intent:null,params:null,pivotHandler:null,resolveIndex:0,handlerInfos:null,resolvedModels:null,isActive:!0,state:null,queryParamsOnly:!1,isTransition:!0,isExiting:function(t){for(var e=this.handlerInfos,n=0,r=e.length;r>n;++n){var i=e[n];if(i.name===t||i.handler===t)return!1}return!0},promise:null,data:null,then:function(t,e,n){return this.promise.then(t,e,n)},"catch":function(t,e){return this.promise["catch"](t,e)},"finally":function(t,e){return this.promise["finally"](t,e)},abort:function(){return this.isAborted?this:(l(this.router,this.sequence,this.targetName+": transition was aborted"),this.intent.preTransitionState=this.router.state,this.isAborted=!0,this.isActive=!1,this.router.activeTransition=null,this)},retry:function(){return this.abort(),this.router.transitionByIntent(this.intent,!1)},method:function(t){return this.urlMethod=t,this},trigger:function(t){var e=c.call(arguments);"boolean"==typeof t?e.shift():t=!1,u(this.router,this.state.handlerInfos.slice(0,this.resolveIndex+1),t,e)},followRedirects:function(){var t=this.router;return this.promise["catch"](function(e){return t.activeTransition?t.activeTransition.followRedirects():a.reject(e)})},toString:function(){return"Transition (sequence "+this.sequence+")"},log:function(t){l(this.router,this.sequence,t)}},i.prototype.send=i.prototype.trigger,r.Transition=i,r.logAbort=s,r.TransitionAborted=o}),define("router/utils",["exports"],function(t){function e(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function n(t){var e,n,r=t&&t.length;return r&&r>0&&t[r-1]&&t[r-1].hasOwnProperty("queryParams")?(n=t[r-1].queryParams,e=v.call(t,0,r-1),[e,n]):[t,null]}function r(t){for(var e in t)if("number"==typeof t[e])t[e]=""+t[e];else if(m(t[e]))for(var n=0,r=t[e].length;r>n;n++)t[e][n]=""+t[e][n]}function i(t,e,n){t.log&&(3===arguments.length?t.log("Transition #"+e+": "+n):(n=e,t.log(n)))}function s(t,e){var n=arguments;return function(r){var i=v.call(n,2);return i.push(r),e.apply(t,i)}}function o(t){return"string"==typeof t||t instanceof String||"number"==typeof t||t instanceof Number}function a(t,e){for(var n=0,r=t.length;r>n&&!1!==e(t[n]);n++);}function u(t,e,n,r){if(t.triggerEvent)return void t.triggerEvent(e,n,r);var i=r.shift();if(!e){if(n)return;throw new Error("Could not trigger event '"+i+"'. There are no active handlers")}for(var s=!1,o=e.length-1;o>=0;o--){var a=e[o],u=a.handler;if(u.events&&u.events[i]){if(u.events[i].apply(u,r)!==!0)return;s=!0}}if(!s&&!n)throw new Error("Nothing handled the event '"+i+"'.")}function c(t,n){var i,s={all:{},changed:{},removed:{}};e(s.all,n);var o=!1;r(t),r(n);for(i in t)t.hasOwnProperty(i)&&(n.hasOwnProperty(i)||(o=!0,s.removed[i]=t[i]));for(i in n)if(n.hasOwnProperty(i))if(m(t[i])&&m(n[i]))if(t[i].length!==n[i].length)s.changed[i]=n[i],o=!0;else for(var a=0,u=t[i].length;u>a;a++)t[i][a]!==n[i][a]&&(s.changed[i]=n[i],o=!0);else t[i]!==n[i]&&(s.changed[i]=n[i],o=!0);return o&&s}function l(t){return"Router: "+t}function h(t,n){function r(e){t.call(this,e||{})}return r.prototype=y(t.prototype),e(r.prototype,n),r}function f(t,e){if(t){var n="_"+e;return t[n]&&n||t[e]&&e}}function d(t,e){var n=v.call(arguments,2);return p(t,e,n)}function p(t,e,n){var r=f(t,e);return r?t[r].apply(t,n):void 0}var g,v=Array.prototype.slice;g=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var m=g;t.isArray=m;var y=Object.create||function(t){function e(){}return e.prototype=t,new e};t.oCreate=y,t.extractQueryParams=n,t.log=i,t.bind=s,t.forEach=a,t.trigger=u,t.getChangelist=c,t.promiseLabel=l,t.subclass=h,t.merge=e,t.slice=v,t.isParam=o,t.coerceQueryParamsToString=r,t.callHook=d,t.resolveHook=f,t.applyHook=p}),define("router",["./router/router","exports"],function(t,e){var n=t["default"];e["default"]=n}),define("pixy/model",["underscore","rsvp","./namespace","./object","./util","rsvp"],function(t,e,n,r,i,e){var s=[].slice,o=t.extend,a=t.clone,u=t.pick,c=t.defaults,l=t.result,h=t.uniqueId,f=["url","urlRoot","collection","cache"],d=["keys","values","pairs","invert","pick","omit"],p=r.extend({name:"Model",changed:null,validationError:null,idAttribute:"id",constructor:function(t,e){t=t||{},e||(e={}),this.cid=h(this.cidPrefix||"c"),this.attributes={},o(this,u(e,f)),t=this.parse(t,e)||{},t=this._assignDefaults(t),r.call(this,"model",function(){this.set(t,e),this.changed={},this.on("sync",this._setServerAttributes,this),this._setServerAttributes()},arguments)},_assignDefaults:function(t){return c({},t,l(this,"defaults"))},_setServerAttributes:function(){this.serverAttrs=a(this.attributes)},initialize:function(){},toString:function(){return[this.name,this.id||this.cid].join("#")},toJSON:function(){return a(this.attributes)},toProps:function(){var t=this.toJSON();return t.is_new=this.isNew(),Object.keys(t).reduce(function(e,n){return e[n.camelize(!0)]=t[n],e},{})},sync:function(){return n.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(e){return t.escape(this.get(e))},has:function(t){return null!=this.get(t)},set:function(e,n,r){var i,s,o,u,c,l,h,f;if(null==e)return this;if("object"==typeof e?(s=e,r=n):(s={})[e]=n,r||(r={}),this.normalize(s),!this._validate(s,r))return!1;o=r.unset,c=r.silent,u=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=a(this.attributes),this.changed={}),f=this.attributes,h=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(i in s)n=s[i],t.isEqual(f[i],n)||u.push(i),t.isEqual(h[i],n)?delete this.changed[i]:this.changed[i]=n,o?delete f[i]:f[i]=n;if(!c){u.length&&(this._pending=!0);for(var d=0,p=u.length;p>d;d++)this.trigger("change:"+u[d],this,f[u[d]],r)}if(l)return this;if(!c)for(;this._pending;)this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},normalize:function(){},unset:function(t,e){return this.set(t,void 0,o({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,o({},t,{unset:!0}))},hasChanged:function(e){return null==e?!t.isEmpty(this.changed):t.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?a(this.changed):!1;var n,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var s in e)t.isEqual(i[s],n=e[s])||((r||(r={}))[s]=n);return r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return a(this._previousAttributes)},fetch:function(t){t=t?a(t):{};var e=this,n=t.success;return t.success=function(r){var i=e.parse(r,t);return e.set(i,t)?(n&&n(e,r,t),void(t.silent||e.trigger("sync",e,r,t))):!1},i.wrapError(this,t),this.sync("read",this,t)},save:function(r,i,s){var a=this,u=e.defer();return(null===r||t.isObject(r))&&(s=i),s=s||{},s.parse=!0,e.Promise.cast(this.__save.apply(this,arguments)).then(function(t){return t?u.resolve(a):(n.warn("Model save failed; local validation failure:",a.validationError),u.reject(a.validationError))},function(t){var e;return t.responseJSON?e=t.responseJSON:t.responseText?e=JSON.parse(t.responseText||"{}")||{}:"field_errors"in t?e=t:setTimeout(function(){console.error("Unexpected API error:",t)},1),n.warn("Model save failed; XHR failure:",e,t),a.trigger("invalid",a,e,o({},s,{validationError:e})),u.reject(e)}),u.promise},__save:function(e,n,r){var s,a,u,c,l=this,h=this.attributes,f=this.isNew();return null==e||"object"==typeof e?(a=e,r=n):(a={})[e]=n,!a||r&&r.wait||this.set(a,r)?(r=o({validate:!0},r),this._validate(a,r)?(a&&r.wait?this.attributes=o({},h,a):a&&this.isNew()&&(this.attributes=o({},h,a)),void 0===r.parse&&(r.parse=!0),s=r.success,r.success=function(e){l.attributes=h;var n=l.parse(e,r);return r.wait&&(n=o(a||{},n)),t.isObject(n)&&!l.set(n,r)?(r.error&&r.error(l,r),!1):(s&&s(l,e,r),l.trigger("sync",l,e,r),void l.trigger(f?"create":"update",l,e,r))},i.wrapError(this,r),u=this.isNew()?"create":r.patch?"patch":"update","patch"===u&&(r.attrs=a),c=this.sync(u,this,r),a&&r.wait&&(this.attributes=h),c):(r.error&&r.error(this,r),!1)):!1},restore:function(t){var n;return this.isNew()?(this.clear({silent:!0}),n=this.set(this._assignDefaults())):n=t?this.set(this.serverAttrs):this.fetch(),e.Promise.cast(n)},destroy:function(){var t=e.defer(),n=this;return e.Promise.cast(this.__destroy.apply(this,arguments)).then(function(e){return n._events.sync=null,n.stopListening(),t.resolve(e),e},function(e){return t.reject(e),e}),t.promise},__destroy:function(t){var n;return t||(t={}),n=t.success,t.success=function(e){this.trigger("destroy",this,this.collection,t),n&&n(this,e,t)}.bind(this),this.isNew()?(t.success({}),e.resolve()):(i.wrapError(this,t),this.sync("delete",this,t))},url:function(){var t,e=l(this,"urlRoot")||l(this.collection,"url")||i.urlError();return this.isNew()?e:(t="/"===e.charAt(e.length-1)?"":"/",e+t+encodeURIComponent(this.id))},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},o(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=o({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,o(e||{},{validationError:n})),!1):!0}});return t.each(d,function(e){p.prototype[e]=function(){var n=s.call(arguments);return n.unshift(this.attributes),t[e].apply(t,n)}}),p}),define("pixy/deep_model",["underscore","./model"],function(t,e){function n(e){var r={},i=o.keyPathSeparator;for(var s in e){var a=e[s];if(a&&a.constructor===Object&&!t.isEmpty(a)){var u=n(a);for(var c in u){var l=u[c];r[s+i+c]=l}}else r[s]=a}return r}function r(e,n,r){for(var i=o.keyPathSeparator,s=n.split(i),a=e,u=0,c=s.length;c>u;u++){if(r&&!t.has(a,s[u]))return!1;if(a=a[s[u]],null==a&&c-1>u&&(a={}),"undefined"==typeof a)return r?!0:a}return r?!0:a}function i(e,n,r,i){i=i||{};for(var s=o.keyPathSeparator,a=n.split(s),u=e,c=0,l=a.length;l>c&&void 0!==u;c++){var h=a[c];c===l-1?i.unset?delete u[h]:u[h]=r:("undefined"!=typeof u[h]&&t.isObject(u[h])||(u[h]={}),u=u[h])}}function s(t,e){i(t,e,null,{unset:!0})}var o=e.extend({_assignDefaults:function(e){return e=t.merge({},t.result(this,"defaults"),e)},toJSON:function(){return t.cloneDeep(this.attributes)},get:function(t){return r(this.attributes,t)},set:function(e,a,u){var c,l,h,f,d,p,g,v;if(null==e)return this;if("object"==typeof e?(l=e,u=a||{}):(l={})[e]=a,u||(u={}),!this._validate(l,u))return!1;h=u.unset,d=u.silent,f=[],p=this._changing,this._changing=!0,p||(this._previousAttributes=t.cloneDeep(this.attributes),this.changed={}),v=this.attributes,g=this._previousAttributes,this.idAttribute in l&&(this.id=l[this.idAttribute]),l=n(l);for(c in l)a=l[c],t.isEqual(r(v,c),a)||f.push(c),t.isEqual(r(g,c),a)?s(this.changed,c):i(this.changed,c,a),h?s(v,c):i(v,c,a);if(!d){f.length&&(this._pending=!0);for(var m=o.keyPathSeparator,y=0,x=f.length;x>y;y++){var e=f[y];this.trigger("change:"+e,this,r(v,e),u);for(var _=e.split(m),b=_.length-1;b>0;b--){var w=t.first(_,b).join(m),C=w+m+"*";this.trigger("change:"+C,this,r(v,w),u)}}}if(p)return this;if(!d)for(;this._pending;)this._pending=!1,this.trigger("change",this,u);return this._pending=!1,this._changing=!1,this},clear:function(e){var r={},i=n(this.attributes);for(var s in i)r[s]=void 0;return this.set(r,t.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!t.isEmpty(this.changed):void 0!==r(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n(this.changed):!1;var r=this._changing?this._previousAttributes:this.attributes;e=n(e),r=n(r);var i,s=!1;for(var o in e)t.isEqual(r[o],i=e[o])||((s||(s={}))[o]=i);return s},previous:function(t){return null!=t&&this._previousAttributes?r(this._previousAttributes,t):null},previousAttributes:function(){return t.cloneDeep(this._previousAttributes)}});return o.keyPathSeparator=".",o}),define("pixy/util/wrap",[],function(){var t=function(){};return function(e,n,r){return e=e||t,function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift(e),n.apply(r,t)}}}),define("pixy/collection",["underscore","./namespace","./object","./model","./util","./util/wrap"],function(t,e,n,r,i,s){var o=[],a=o.push,u=o.slice,c=o.splice,l={set:{add:!0,remove:!0,merge:!0},add:{add:!0,merge:!1,remove:!1,sort:!0}},h=l.set,f=l.add,d=["url","model","cache","comparator"],p=n.extend({name:"Collection",meta:{},constructor:function(e,r){r||(r={}),d.forEach(function(t){r.hasOwnProperty(t)&&(this[t]=r[t])}.bind(this)),n.call(this,"collection",function(){this._reset(),e&&this.reset(e,t.extend({silent:!0,parse:!0}))},arguments)},model:r,toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},toProps:function(){return this.invoke("toProps")},sync:function(){return e.sync.apply(this,arguments)},add:function(e,n){return this.set(e,t.defaults(n||{},f))},remove:function(e,n){e=t.isArray(e)?e.slice():[e],n||(n={});var r,i,s,o;for(r=0,i=e.length;i>r;r++)o=this.get(e[r]),o&&(delete this._byId[o.id],delete this._byId[o.cid],s=this.indexOf(o),this.models.splice(s,1),this.length--,n.silent||(n.index=s,o.trigger("remove",o,this,n)),this._removeReference(o));return this},set:function(e,n){n=t.defaults(n||{},h),n.parse&&(e=this.parse(e,n)),t.isArray(e)||(e=e?[e]:[]);var r,i,s,o,u,l=n.at,f=this.comparator&&null==l&&n.sort!==!1,d=t.isString(this.comparator)?this.comparator:null,p=[],g=[],v={};for(r=0,i=e.length;i>r;r++)(s=this._prepareModel(e[r],n))&&((o=this.get(s))?(n.remove&&(v[o.cid]=!0),n.merge&&(o.set(s.attributes,n),f&&!u&&o.hasChanged(d)&&(u=!0))):n.add&&(p.push(s),s.on("all",this._onModelEvent,this),this._byId[s.cid]=s,null!=s.id&&(this._byId[s.id]=s)));if(n.remove){for(r=0,i=this.length;i>r;++r)v[(s=this.models[r]).cid]||g.push(s);g.length&&this.remove(g,n)}if(p.length&&(f&&(u=!0),this.length+=p.length,null!=l?c.apply(this.models,[l,0].concat(p)):a.apply(this.models,p)),u&&this.sort({silent:!0}),n.silent)return this;for(r=0,i=p.length;i>r;r++)(s=p[r]).trigger("add",s,this,n);return u&&this.trigger("sort",this,n),this.broadcastSync(),this},reset:function(e,n){n||(n={});for(var r=0,i=this.models.length;i>r;r++)this._removeReference(this.models[r]);return n.previousModels=this.models,this._reset(),this.add(e,t.extend({silent:!0},n)),n.silent||(this.trigger("reset",this,n),this.broadcastSync()),this},resetMeta:function(){this.meta={}},broadcastSync:function(){this.forEach(function(t){t.trigger("sync",t)})},push:function(e,n){return e=this._prepareModel(e,n),this.add(e,t.extend({at:this.length},n)),e},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(e,n){return e=this._prepareModel(e,n),this.add(e,t.extend({at:0},n)),e},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){return null==t?void 0:this._byId[null!=t.id?t.id:t.cid||t]},at:function(t){return this.models[t]},where:function(e,n){return t.isEmpty(e)?n?void 0:[]:this[n?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},findNew:function(){return this.find(function(t){return t.isNew()})},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),t.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(t.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},sortedIndex:function(e,n,r){n||(n=this.comparator);var i=t.isFunction(n)?n:function(t){return t.get(n)};return t.sortedIndex(this.models,e,i,r)},pluck:function(e){return t.invoke(this.models,"get",e)},fetch:function(e){return e=e?t.clone(e):{},void 0===e.parse&&(e.parse=!0),e.xhrSuccess=t.bind(this.parseLinkPagination,this),e.success=s(e.success,function(t,n){var r=e.reset?"reset":"set";
this[r](n,e),t(this,n,e),this.trigger("fetch",this,n,e)},this),i.wrapError(this,e),this.sync("read",this,e)},fetchNext:function(e){var n=this;return e=e||{},this.meta.currentPage=e.page||this.meta.nextPage,e=t.extend({},e,{xhrSuccess:t.bind(this.parseLinkPagination,this)}),this.sync("read",this,e).then(function(t){n.add(t,{parse:!0}),n.meta.hasMore?n.meta.remainder=n.meta.totalCount-n.length:(n.meta.remainder=0,n.meta.totalCount=n.length)})},fetchAll:function(t){return t=t||{},"page"in t&&delete t.page,this.meta.nextPage=1,function e(n){return n.fetchNext(t).then(function(){return n.meta.hasMore?e(n):n})}(this)},create:function(e,n){if(n=n?t.clone(n):{},!(e=this._prepareModel(e,n)))return!1;n.wait||this.add(e,n);var r=this,i=n.success;return n.success=function(t){n.wait&&r.add(e,n),i&&i(e,t,n)},e.save(null,n),e},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={},this.resetMeta()},_prepareModel:function(t,e){if(t instanceof r)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var n=new this.model(t,e);return n._validate(t,e)?n:(this.trigger("invalid",this,t,e),!1)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,r),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))},toString:function(){return[this.name,this.id||this.cid].join("#")},parseLinkPagination:function(e,n,r){var i,s,o=r.getResponseHeader("Link"),a=r.getResponseHeader("X-Total-Count"),u={totalCount:void 0,remainder:void 0},c=function(t){function e(t,e){for(var n,r=[];n=e.exec(t);)r.push({rel:n[2],href:n[1],page:parseInt(/page=(\d+)/.exec(n[1])[1],10)});return r}var n=e(t,RegExp('<([^>]+)>; rel="([^"]+)",?s*',"g"));return n};return u.link=c(o),i=t.find(u.link,{rel:"next"}),s=t.find(u.link,{rel:"last"}),u.perPage=parseInt((/per_page=(\d+)/.exec(o)||[])[1]||0,10),u.hasMore=!!i,a?u.totalCount=parseInt(a,10):s&&(u.totalCount=u.perPage*s.page),void 0!==u.totalCount&&(u.remainder=u.totalCount-this.models.length),i&&(u.nextPage=i.page),this.meta=u,u}}),g=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];t.each(g,function(e){p.prototype[e]=function(){var n=u.call(arguments);return n.unshift(this.models),t[e].apply(t,n)}});var v=["groupBy","countBy","sortBy"];return t.each(v,function(e){p.prototype[e]=function(n,r){var i=t.isFunction(n)?n:function(t){return t.get(n)};return t[e](this.models,i,r)}}),p.setDefaultOptions=function(e,n){t.extend(l[e],n)},p}),define("pixy/core/history",["underscore","../namespace","../util/extend","../mixins/events"],function(t,e,n,r){var i=e.$,s=function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e},o=function(){this.handlers=[],t.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},a=/^[#\/]|\s+$/g,u=/^\/+|\/+$/g,c=/msie [\w.]+/,l=/\/$/;return o.started=!1,t.extend(o.prototype,r,{interval:50,trackerLimit:50,routeHistory:[],getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(l,"");t.indexOf(n)||(t=t.substr(n.length))}else t=this.getHash();return t.replace(a,"")},start:function(e){if(o.started)throw new Error("Pixy.history has already been started");o.started=!0,this.options=t.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),r=document.documentMode,s=c.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);this.root=("/"+this.root+"/").replace(u,"/"),s&&this._wantsHashChange&&(this.iframe=i('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?i(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?i(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var l=this.location,h=l.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!h?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):void(this._wantsPushState&&this._hasPushState&&h&&l.hash&&(this.fragment=this.getHash().replace(a,""),this.history.replaceState({},document.title,this.root+this.fragment+l.search)))},stop:function(){i(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),o.started=!1},checkUrl:function(){var t=this.getFragment();return console.debug("Hash/URL changed:",t),t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.onHashChange&&this.onHashChange(t),void(this.iframe&&this.navigate(t)))},navigate:function(e,n){var r,i;return e=this.getFragment(e),(r=this.fragment!==e)?(i=this.__navigate(e,n),t.last(this.routeHistory)!==e&&this.routeHistory.push(e),this.routeHistory.length>this.trackerLimit&&this.routeHistory.splice(0,1),this.trigger("navigate",e),i):!0},__navigate:function(t,e){var n;if(!o.started)return!1;if(e||(e={}),this.fragment=t,n=this.root+t,this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);s(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),s(this.iframe.location,t,e.replace))}}}),new o}),define("pixy/ext/underscore",["underscore"],function(){var t=_.defer;return _.defer=function(e,n){return t(n?_.bind.apply(null,arguments):e)},_}),define("pixy/config",["./ext/underscore","./namespace","rsvp"],function(t,e){var n=t.extend,r={};return r.isAuthenticated=function(){return!1},r.getCurrentLayoutName=function(){},r.defaultAccessPolicy=void 0,r.getDefaultWindowTitle=function(){return"Pixy"},r.getRootRoute=function(){return e.routeMap.root},r.loadRoute=function(t,e){return e()},e.configure=function(t){n(r,t)},r}),define("pixy/core/router",["require","router","../ext/jquery","rsvp","./history","../config"],function(t){function e(t){return t=String(t||""),"/"!==t[0]&&(t="/"+t),t}function n(t){return s.loadAndTransitionTo(t)}function r(t){var e=a.consume(t);return n(a(t.currentTarget).attr("href")),e}var i,s,o=t("router"),a=t("../ext/jquery"),u=t("rsvp"),c=t("./history"),l=t("../config"),h=window.history;return s=new o["default"],s.loadAndTransitionTo=function(t,n){var r=u.defer(),i=e(t);return l.loadRoute(i,function(){var e=s.transitionTo(i);console.log("Route bundle for",t,"has been loaded. Transitioning..."),r.resolve(n?e.followRedirects():e),console.debug("	",e)}),r.promise},s.updateURL=function(t){console.info("History URL has changed to:",t),this.navigate(t,{silent:!0,trigger:!1,replace:i}),i=!1}.bind(c),s.start=function(t){var s,o,l;if(!this.getHandler)throw"#getHandler() must be defined before starting the router!";return t=t||{},s=t.root||"/",t.locale&&(s+=t.locale),c.onHashChange=function(t){console.debug("Hash/URL changed:",e(t)),i=!0,n(t)},c.start({pushState:t.pushState,root:s,silent:!0}),a(document).on("click.appRouter",'a[href^="/"][target!=_blank]',r),t.preload?(o=e(c.fragment),l=c.location.search,i=!0,this.loadAndTransitionTo(o,!0).then(function(){t.pushState&&h.pushState&&h.replaceState({},document.title,s+e(c.fragment)+l)})):u.resolve()},s.stop=function(){a(document).off("click.appRouter"),c.onHashChange=null,c.stop()},s}),define("pixy/util/get",[],function(){var t=function(t,e){var n=this[t];return n&&n.promise?(console.assert(e&&e.call,"You must provide a callback to yield with a promise attribute: "+t),n.promise.then(e.bind(this))):n&&this[t].call?this[t].call(this):n};return t}),define("pixy/route",["underscore","./util/extend","./util/get","./namespace","./core/router","./mixins/events"],function(t,e,n,r,i,s){function o(t,e,n){var r,i=a(this,e),s=f(i),o=c(i,p),d=i.mixins||[];return-1===d.indexOf(m)&&d.push(m),r=d.reduce(function(t,e){var n=e.mixinProps;return a(t,n),t},{}),a(this,u(r,s),{name:t}),p.forEach(function(t){var e=o[t],n=h(l(d,t)),r=n.length;this[t]=function(){var t,i;for(i=0;r>i;++i)if(t=n[i].apply(this,arguments),void 0!==t)return t;return e?e.apply(this,arguments):void 0},this["__"+t]=e}.bind(this)),d.filter(function(t){return!!t.initialize}).forEach(function(t){t.initialize.call(this)}.bind(this)),n||v(t,this),this}var a=t.extend,u=t.omit,c=t.pick,l=t.pluck,h=t.compact,f=t.keys,d={},p=["beforeModel","model","afterModel","enter","exit"],g=["willTransition","didTransition"],v=(p.concat(g),function(t,e){d[t]=e}),m={exit:function(){this.stopListening()}};return a(o.prototype,s,{get:n,transitionTo:i.loadAndTransitionTo.bind(i),replaceWith:i.replaceWith.bind(i),trigger:i.trigger.bind(i),toString:function(){return this.name},modelFor:function(t){return console.assert(d[t],'No route by name of "'+t+'"'),d[t].context},reload:function(){return this.__model()},injectStoreError:function(t,e,n){2===arguments.length&&(n=e,e=t),this.trigger("storeError",{actionIndex:e,error:n})}}),o.extend=e.withoutMixins,r.routeMap=d,r.registerRoute=v,o}),define("pixy/util/wrap_array",[],function(){return function(t){return Array.isArray(t)?t:[t]}}),define("pixy/store",["require","underscore","./mixins/logger","./mixins/events","./core/dispatcher","./util/extend","./util/wrap_array","rsvp","inflection"],function(t){function e(t){return t?[v,t].join(":"):void 0}function n(t){return t?[m,t].join(":"):void 0}function r(t){var e;return t.storeKey===this._key&&(e=this.actions[t.id]),new f.Promise(function(n,r){var i=this._actionEmitter(t,n),s=this._errorPropagator(t,r);if(e)try{e.call(this,t.payload,i,s)}catch(o){s(o)}else this.onAction(t.type,t.payload,i,s),n()}.bind(this))}function i(t,e,n,r){r&&r.listenTo?r.listenTo(t,e,n):t.on(e,n,r)}function s(t,e,n,r){r&&r.listenTo?r.stopListening(t,e,n):t.off(e,n,r)}var o=t("underscore"),a=t("./mixins/logger"),u=t("./mixins/events"),c=t("./core/dispatcher"),l=t("./util/extend"),h=t("./util/wrap_array"),f=t("rsvp"),d=(t("inflection"),o.extend),p=o.keys,g="change",v="actionSuccess",m="actionError",y="responseJSON",x=function(t,e){var n,i=r.bind(this);d(this,e,{name:t}),this.reset(),n=this._key?this._key:this._key=t.underscore().replace(/_store$/,"").pluralize().camelize(!0),c.register(i),c.registerHandler(n,i),p(this.actions).forEach(function(t){c.registerActionHandler(t,n)}),this.initialize&&this.initialize()};return d(x.prototype,a,u,{name:"GenericStore",actions:{},emitChange:function(t,e){this.debug("Broadcasting change."),t&&this.trigger("change:"+t,e),this.trigger(g)},emitActionSuccess:function(t,n){this.debug("Broadcasting action success:",t),this.trigger(e(t),n,t),this.trigger(v,t,n)},emitActionError:function(t,e,r){this.warn("Broadcasting action error:",t,"#",e),this.warn(r,r&&r.stack?r.stack:void 0),this.trigger(n(t),e,r),this.trigger(m,t,e,r)},addChangeListener:function(t,e){i(this,g,t,e)},removeChangeListener:function(t,e){s(this,g,t,e)},addActionSuccessListener:function(t,n,r){var s=this;h(t).forEach(function(t){i(s,e(t),n,r)})},removeActionSuccessListener:function(t,n,r){s(this,e(t),n,r)},addActionErrorListener:function(t,e,r){i(this,n(t),e,r)},removeActionErrorListener:function(t,e,r){s(this,n(t),e,r)},addErrorListener:function(t,e){i(this,m,t,e)},removeErrorListener:function(t,e){s(this,m,t,e)},onAction:function(){},_errorPropagator:function(t,e){return function(n){n&&o.isObject(n)&&y in n&&(n=n.responseJSON),this.emitActionError(t.type,t.index,n),e(n)}.bind(this)},_actionEmitter:function(t,e){return function(n,r){this.emitActionSuccess(t.type,t.index),this.emitChange(n,r),e(2===arguments.length?r:n)}.bind(this)},toString:function(){return this.name},reset:function(){this.state=this.getInitialState()},getInitialState:function(){return{}},setState:function(t){d(this.state,t),this.emitChange()}}),x.extend=l,x}),define("pixy/logging_context",["underscore","./mixins/logger"],function(t,e){var n=function(t){this.toString=function(){return t}};return t.extend(n.prototype,e),n}),define("pixy/core/cache",["underscore","../namespace","../object","../model","../deep_model","../collection"],function(t,e,n,r,i,s){var o,a=!1,u=!1,c=function(t,e,n){return"function"==typeof t[e]?t[e].call(n||this):t[e]},l={Model:{updateOn:"sync",purgeOn:"clear destroy"},Collection:{updateOn:"add sync remove",purgeOn:"reset"}},h=function(t){return t=t||{},t.noCache?!1:void 0===t.useCache?u&&a:u&&t.useCache},f=function(e){var n=t.clone(e._cacheEvents),r=e.cache.updateOn||e.cache.events,i=e.cache.purgeOn;return void 0===e.cache.updateOn&&(r=n.updateOn),void 0===e.cache.purgeOn&&(i=n.purgeOn),{updateOn:r,purgeOn:i}},d={addCacheListeners:function(){if(!this.cache.manual){var t=this._cacheEvents;return t.updateOn&&this.on(t.updateOn,this.updateCacheEntry,this),t.purgeOn&&this.on(t.purgeOn,this.purgeCacheEntry,this),!0}},removeCacheListeners:function(){if(!this.cache.manual){var t=this._cacheEvents;return t.updateOn&&this.off(t.updateOn,this.updateCacheEntry,this),t.purgeOn&&this.off(t.purgeOn,this.purgeCacheEntry,this),!0}},fetchCached:function(t){return t=t||{},t.cached=!0,t.transport="localStorage",t.data=this.getCacheEntry(),e.sync.call(this,"read",this,t)},getCacheEntry:function(){var t;return u?(t=c(this.cache,"key",this),o.get(t)):null},updateCacheEntry:function(e,n,r){var i,s={},a=c(this.cache,"key",this);return!this.cacheDisabled&&u&&a?r&&r.cached?this:(this.cache.usePrefix?(i=t.isBoolean(this.cache.usePrefix)?c(this.cache,"key",this):c(this.cache,"usePrefix",this),s[i]=this.toJSON()):s=this.toJSON(),o.set(a,s),this):this},purgeCacheEntry:function(){var t=c(this.cache,"key",this);return!this.cacheDisabled&&h({})&&t?(o.remove(t),this):this},disableCaching:function(){return this.cacheDisabled||(this.cacheDisabled=!0,console.warn(this.toString()+": caching disabled.")),this},enableCaching:function(){return this.cacheDisabled&&delete this.cacheDisabled,this}},p={sync:function(t,e,n){if(n=n||{},"read"===t){var r=n.success,i=h(n),s=this;if(n.success=function(t,e){var n=r&&r(t,e);return e.cached||s.cache.manual||s.updateCacheEntry(),n},i)return this.fetchCached(n)}return this._noCache.sync.apply(this,arguments)},set:function(e,n,r){var i=this._noCache.set.apply(this,arguments);return e?(t.isObject(e)&&(r=n),r=r||{},this._changing||r.silent||this.cache.manual||this.updateCacheEntry(),i):i},clear:function(){return this.cache.manual||this.purgeCacheEntry(),this._noCache.clear.apply(this,arguments)}},g={sync:function(t,e,n){if(n=n||{},"read"==t){var r=this,i=n.success,s=n.complete,o=h(n),a=n.xhrSuccess;if(n.xhrSuccess=function(){a.apply(this,arguments),n.cached?(r.meta.totalCount=r.length,r.meta.remainder=0,r.meta.cached=!0):r.meta.cached=!1},n.success=function(){var t;return i&&(t=i.apply(i,arguments)),n.cached||r.updateCacheEntry(),t},n.complete=function(){return r.addCacheListeners(),s?s.apply(s,arguments):void 0},this.removeCacheListeners(),o)return this.fetchCached(n)}return this._noCache.sync.apply(this,arguments)}},v={Model:p,Collection:g},m=n.extend({name:"Cache",options:{preloadingEnabled:!0,events:{}},constructor:function(e){e=e||{};var n=function(t,e){t.prototype.klass||(t.prototype.klass=e)},i=function(t,e){var n,r=t.prototype,i=v[e];r._noCache={};for(n in i)r._noCache[n]=r[n]};t.merge(l,this.options.events,e.events),n(r,"Model"),n(s,"Collection"),i(r,"Model"),i(s,"Collection")},destroy:function(){t.each([r,s],function(t){delete t.prototype._noCache,delete t.prototype.klass})},makeCacheable:function(n){if(n.cache&&t.isObject(n.cache)){var r=n.klass,i=l[r],s=v[r],o=[];for(var a in s)n[a]&&o.push(a);if(o.length&&(n._noCache=t.clone(e[r].prototype._noCache),t.each(o,function(t){n._noCache[t]=n[t]})),t.extend(n,d,s,{_cacheEvents:t.clone(i)}),n._cacheEvents=f(n),n.addCacheListeners(),n.cache.preload&&this.options.preloadingEnabled){var c=function(){return u?void n.set(n.getCacheEntry()):void console.error("can not preload",n.id,"as cache is not available.")};u?c():t.defer(c)}}},setAdapter:function(e){return t.each(["set","get","remove","clear"],function(n){var r=e[n];if(!t.isFunction(r))throw new TypeError([this.name,"bad adapter: missing method implemention #",n].join(" "))}),o=e,this.trigger("adapter_installed",this,o)},getAdapter:function(){return o},setAvailable:function(t){return this.__ensureAdapterSet(),u=t,this.trigger("available",this)},isAvailable:function(){return this.__ensureAdapterSet(),u},enable:function(){return!this.isEnabled()&&(a=this.isAvailable())&&this.trigger("enabled",this),this},disable:function(){return a=!1,this.trigger("disabled",this)},isEnabled:function(){return this.isAvailable()&&a},__ensureAdapterSet:function(){if(!o)throw this.name+": you must set an adapter first! use #setAdapter"}});return new m}),define("pixy/mixins/filterable_collection",["underscore","../collection","../model"],function(t,e,n){function r(t,e){return t!==e}var i=n.extend({idAttribute:"name",defaults:{attr:"",value:null},fn:function(){},toString:function(){return[this.get("attr"),this.get("value")].join(" -> ")}}),s={__initialize__:function(){t.extend(this,{_filters:new e({model:i}),_fmodels:[]}),this.filterOptions=this.filterOptions||{},t.defaults(this.filterOptions,{resetOn:"fetch reset"}),this.on(this.filterOptions.resetOn,this.resetFilters,this),this.resetFilters()},addFilter:function(t,e,n){var i,s;return n=n||{},i=n.condition||r,s=this._filters.add({name:n.name||t,attr:t,value:e}).last(),s.fn=i,this},removeFilter:function(t){var e=this._filters.get(t);return this.log("Filter removed:",e),this._filters.remove(e),this},applyFilters:function(){return this._filters.length?(this.trigger("filtering",this),this._filters.each(function(e){var n=[],r=this._filtersInverted;this.each(function(t){var i=e.fn(t.get(e.get("attr")),e.get("value"),t);r&&(i=!i),i&&n.push(t)}),t.each(n,function(t){t.trigger("filter:applied",t),this.remove(t),this._fmodels.push(t)},this)},this),this.trigger("filtered",this),this):this._fmodels.length?this.resetFilters():this},resetFilters:function(e){return e=e||{},e.silent||this.trigger("unfiltering",this),this._fmodels.length&&t.each(this._fmodels,function(t){this.add(t),t.trigger("filter:reset",t)},this),this._fmodels=[],this._filters.reset(),e.silent||this.trigger("unfiltered",this),this},hasFilters:function(){return!!this._filters.length},invertFilters:function(t){this._filtersInverted=t}};return s}),define("pixy/mixins/routes/access_policy",["../../config","rsvp"],function(t,e){var n=void 0,r=function(t){return[t.intent.url,t.targetName].join(" => ")};return{mixinProps:{accessPolicy:t.defaultAccessPolicy,isAccessible:function(){var e=t.isAuthenticated();return"public"===this.accessPolicy&&e?!1:"private"!==this.accessPolicy||e?!0:!1}},beforeModel:function(t){return this.isAccessible()?n:"public"===this.accessPolicy?(console.warn("Over-privileged access to:",r(t)),e.reject("Overauthorized")):(console.warn("Unprivileged access to:",r(t)),e.reject("Unauthorized"))}}}),define("pixy/mixins/routes/loading",[],function(){var t=function(t){return!!t.router.currentHandlerInfos};return{model:function(e,n){t(n)&&this.__model&&(this.trigger("loading",!0),this._loading=!0,console.info(this.name,"Loading"))},afterModel:function(){this._loading&&(console.info(this.name,"Hiding loading status."),this._loading=!1,this.trigger("loading",!1))}}}),define("pixy/mixins/routes/props",["underscore","../../config"],function(t,e){var n,r=t.uniq,i=t.keys,s=function(t,e){return r(i(e).concat(t||[]))},o=function(t,r,i){n||(n=e.getRootRoute()),console.assert(n,"You must assign a root route that responds to #update and #ready() to use the PropsMixin."),n.ready(function(){r.trigger("update",t),i&&i.call(r)})};return{mixinProps:{_propKeys:[],update:function(t){o(t,this,function(){this._propKeys=s(this._propKeys,t)})}},afterModel:function(t){this.context=this.context||t},exit:function(){var t=this._propKeys.reduce(function(t,e){return t[e]=void 0,t},{});o(t,this),this.context=void 0}}}),define("pixy/mixins/routes/renderer",["../../config"],function(t){var e={mixinProps:{views:[],mount:function(t,e,n){this.trigger("render",t,e,n)},unmount:function(t,e,n){this.trigger("remove",t,e,n)},shouldUnmount:function(){return!0}},enter:function(){var e=(this.mount.bind(this),this.views.reduce(function(e,n){var r=n.into,i=n.options||{};return n.into||(r=n.into=t.getCurrentLayoutName(),console.assert(r,"RendererMixin: you must specify a layout name using 'into' or define Pixy.Config#getCurrentLayoutName().")),n.outlet&&(i.outlet=n.outlet,n.options=i),e.concat({component:n.component,layoutName:r,options:i})},[]));this.trigger("renderMany",e)},exit:function(){var t;this.shouldUnmount()&&(t=this.unmount.bind(this),this.views.forEach(function(e){t(e.component,e.into,e.options)}))}};return e}),define("pixy/mixins/routes/secondary_transitions",["underscore"],function(t){function e(){}function n(t){return t.isSecondary}function r(t){return!n(t)}function i(t){e(t,"transitioning to a secondary route, I won't re-load on next enter."),t._contextResolved=!0,t._previousContext=t._context}function s(t){return t._contextResolved===!0}function o(t){e(t,"releasing guards"),t._contextResolved=t._context=t._previousContext=null}var a,u,c=t.pluck,l=(Array.prototype.slice,!0);return{model:function(){return s(this)?(e(this,"I'm considering myself already loaded."),this._previousContext):void 0},afterModel:function(t){r(this)&&(this._context=t)},enter:function(){return s(this)?(e(this,"	blocking #enter"),o(this),l):void 0},exit:function(){return s(this)?(e(this,"	blocking #exit"),l):void 0},willTransition:function(t){var e=t.router,l=e.getHandler(t.targetName),h=t.pivotHandler;return n(l)&&r(this)?(u=c(e.currentHandlerInfos,"handler"),u.forEach(i),a):void(u&&r(l)&&!s(l)&&(u.forEach(o),u.forEach(function(t){t!==h&&t.exit()}),u=void 0))}}}),define("pixy/mixins/routes/window_title",["../../config"],function(t){var e;return{mixinProps:{windowTitle:function(){return t.getDefaultWindowTitle()}},enter:function(){var t=this.get("windowTitle");t&&(e=document.title,document.title=t)},exit:function(){e&&(document.title=e,e=null)}}}),define("pixy/mixins/routes",["./routes/access_policy","./routes/loading","./routes/props","./routes/renderer","./routes/secondary_transitions","./routes/window_title"],function(t,e,n,r,i,s){var o={};return o.AccessPolicy=t,o.Loading=e,o.Props=n,o.Renderer=r,o.SecondaryTransitions=i,o.WindowTitle=s,o}),define("pixy/mixins/react",["require","./react/layout_manager_mixin","./react/layout_mixin","./react/stacked_layout_mixin","./react/actor_mixin"],function(t){var e={};return e.LayoutManagerMixin=t("./react/layout_manager_mixin"),e.LayoutMixin=t("./react/layout_mixin"),e.StackedLayoutMixin=t("./react/stacked_layout_mixin"),e.ActorMixin=t("./react/actor_mixin"),e}),define("pixy/mixins/cacheable",["require","../core/cache"],function(t){var e=t("../core/cache");return{__initialize__:function(){if(!this.cache)throw new Error("Cacheable resource must define a #cache property.");e.makeCacheable(this)}}}),define("pixy/mixins",["require","./mixins/routes","./mixins/react","./mixins/filterable_collection","./mixins/cacheable"],function(t){var e={};return e.Routes=t("./mixins/routes"),e.React=t("./mixins/react"),e.FilterableCollection=t("./mixins/filterable_collection"),e.Cacheable=t("./mixins/cacheable"),e}),define("pixy/main",["require","underscore","inflection","rsvp","./ext/react","./ext/jquery","router","./namespace","./object","./model","./deep_model","./collection","./core/router","./route","./store","./logging_context","./core/cache","./core/dispatcher","./mixins/filterable_collection","./mixins/logger","./mixins"],function(t){var e=(t("underscore"),t("inflection"),t("rsvp"),t("./ext/react"),t("./ext/jquery"),t("router"),t("./namespace")),n=t("./object"),r=t("./model"),i=t("./deep_model"),s=t("./collection"),o=t("./core/router"),a=t("./route"),u=t("./store"),c=t("./logging_context"),l=t("./core/cache"),h=t("./core/dispatcher"),f=(t("./mixins/filterable_collection"),t("./mixins/logger")),d=t("./mixins");return e.Object=n,e.Model=r,e.DeepModel=i,e.Collection=s,e.Route=a,e.Store=u,e.Logger=f,e.LoggingContext=c,e.Cache=l,e.Dispatcher=h,e.ApplicationRouter=o,e.Mixins=d,console.info("Pixy",e.VERSION,"initialized."),e.start=function(){return o.start()},e}),define("pixy",["pixy/main"],function(t){return t});